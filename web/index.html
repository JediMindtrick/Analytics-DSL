<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="./adl.css">
		<script type="text/javascript" src="./knockout.js"></script>
		<script type="text/javascript" src="./app.js"></script>
		<script type="text/javascript" src="./cellNav.js"></script>
		<script type="text/javascript" src="./viewModel.js"></script>
		<script type="text/javascript" src="./shortcut.js"></script>
		<script type="text/javascript" src="./jquery-2.0.0.min.js"></script>
		<script type="text/javascript" src="./program1.js"></script>
	</head>
	<body>
		<a href="https://github.com/JediMindtrick/Analytics-DSL">License & Github repo</a><br />
		Copyright &copy; 2013 by Brandon Wilhite
		<h1>Analytics DSL Editor</h1>
		<h2>Only tested in Chrome, ymmv.</h2>
		<select data-bind="options: programNames, value: currentProgramName"></select>
		<button data-bind="click: loadProgram">Load Program</button>
		<br />
		<label>Errors & Messages:</label>
		<input style="width:100%;" data-bind="enable: false, value: currentError" />
		<br>
		<label>f(x):&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&lt;&lt;Focus on a cell and [Enter] to edit a formula, [Ctrl+Enter] to update the formula in the cell.  All strings enclosed in single quotes please.&gt;&gt;</label>
		<br>
		<textarea id="currentFormula" style="width:100%; height: 90px;" data-bind="enable: isEditingFormula, hasFocus: isEditingFormula, css: { activeEditor: isEditingFormula }, event: { blur: updateFormula }"></textarea>
	
<table class="tableone" style="height:400px;">
    <thead>
        <tr>
	        <th style="width:20%;">Name</th>
            <th style="width:40%;">Value</th>
            <th style="width:20%;">Input</th>
            <th style="width:20%;">Result</th>
        </tr>
    </thead>
    <tbody>
	    <tr><td colspan="4" style="padding-top:0;">
	        <div class="innerb">
	            <table class="tabletwo">   
	            	<thead></thead>                   
	                <tbody data-bind="foreach: rows" >
	                    <tr style="height: 20px; border: solid thin black;" data-bind="attr: { id: 'Row_' + Id }, css: { error: IsError }">
	                        <td style="width: 20%;" class="tdFIX" data-bind="click: selectCell, text: Name" name="Name">
	                        </td>
	                        <td style="width: 40%; border-left: solid thin black;" class="tdFIX" data-bind="click: selectCell, text: FormattedValue" name="Value">
	                        </td>
	                        <td style="width: 20%; border-left: solid thin black;" class="tdFIX" data-bind="click: selectCell, text: Input" name="Input">
	                        </td>
	                        <td style="width: 20%; border-left: solid thin black;" class="tdFIX" data-bind="click: selectCell, text: Result" name="Result">
	                        </td>
	                    </tr>
	                </tbody>
	            </table>
	        </div>
	    </td></tr>
	</tbody>
</table>

		<div style="width: 75%; height: 400px; margin-top: 50px;">
			<textarea style="width:100%; height:100%;"  data-bind="value: programCode, enable: currentProgramName() === 'Load From Text'" ></textarea>
		</div>
		
	</body>

		<script type="text/javascript">
			var vm = new ViewModel();

			ko.applyBindings(vm);
		</script>
</html>